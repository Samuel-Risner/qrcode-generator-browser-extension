(()=>{"use strict";var e;!function(e){e[e.AddUrl=0]="AddUrl",e[e.GetUrls=1]="GetUrls",e[e.RemoveUrl=2]="RemoveUrl",e[e.ToggleDarkMode=3]="ToggleDarkMode",e[e.GetDarkMode=4]="GetDarkMode"}(e||(e={})),browser.runtime.onInstalled.addListener((()=>{browser.storage.local.set({urls:[],urlVersion:0,isDark:!1})})),browser.runtime.onMessage.addListener(((r,s,o)=>(r.type===e.AddUrl?async function(e,r){const s=await browser.storage.local.get();s.urls.push(r),s.urlVersion+=1,browser.storage.local.set(s),e(s)}(o,r.url):r.type===e.GetUrls?async function(e){e(await browser.storage.local.get())}(o):r.type===e.RemoveUrl?async function(e,r){const s=await browser.storage.local.get();!function(e,r){const s=e.indexOf(r);s<0||e.splice(s,1)}(s.urls,r),s.urlVersion+=1,browser.storage.local.set(s),e(s)}(o,r.url):r.type===e.ToggleDarkMode?async function(e){const r=await browser.storage.local.get();r.isDark=!r.isDark,browser.storage.local.set(r),e({isDark:r.isDark})}(o):r.type===e.GetDarkMode&&async function(e){e({isDark:(await browser.storage.local.get()).isDark})}(o),!0)))})();